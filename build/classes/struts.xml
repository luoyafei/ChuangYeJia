<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
          "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<constant name="struts.devMode" value="true"/>
	<constant name="struts.ognl.allowStaticMethodAccess" value="true" />
	<constant name="struts.custom.i18n.resources" value="app" />
	<!-- 设置最大上传文件的大小 2M-->
	<constant name="struts.multipart.maxSize" value="2097152" />
	<!-- 配置临时存储地址 -->
	<constant name="struts.multipart.saveDir" value="/tmp"/>
	<package name="main" extends="struts-default" namespace="/">
	
		<!-- 默认action，在url中随意敲击，可以跳转到指定地方。 -->
    	<!-- <default-action-ref name="myIndex" />
    	<action name="myIndex">
    		<result>/tags.jsp</result>
    	</action>
		
		<action name="testi18n">
			<result>/testI18nFile.jsp</result>
		</action>
		<action name="index">
			<result>
				/exception.jsp
			</result>
		</action> -->
	</package>
	
    <package name="default" extends="struts-default" namespace="/"> 
		<action name="userSignIn" class="com.chuangyejia.action.UserSignInAction">
			<result name="identifyCode" type="stream">
				  <param name="contentType">image/jpeg</param>
				  <param name="inputName">imageStream</param>
				  <param name="bufferSize">2048</param>
			</result>
			<result name="signout">/index.jsp</result>
			<result name="register">/pages/signIn/register.jsp</result>
			<result name="login">/pages/signIn/login.jsp</result>
			<result name="back" type="redirect">${backUrl}</result>
		</action>
		
		<!-- 处理登录注册的数据，ajax的action -->
		<action name="vaction" class="com.chuangyejia.ajax.ValidateAction"/>
		
		<!-- 处理修改用户信息的数据，ajax的action -->
		<action name="modifyUserInfo" class="com.chuangyejia.ajax.UserInfoModifyAction"/>
		
		<!-- 用来处理用户更改头像ajax的action -->
		<action name="uploadPicture" class="com.chuangyejia.ajax.UploadUserPicture" />
		
    <!-- 	<global-results>
    		<result name="exception">/exception.jsp</result>
    	</global-results> -->
    	
    	<!-- 这是用来测试重复提交token的Action
    	<action name="tokenAction" class="com.struts.action.TokenAction">
    		<result>/index.jsp</result>
    		<interceptor-ref name="defaultStack"></interceptor-ref>
    		<interceptor-ref name="token"></interceptor-ref>
    		<result name="invalid.token" type="redirect">/testToken.jsp</result>
    	</action>
    	 -->
    	
    	
    </package>
</struts>

